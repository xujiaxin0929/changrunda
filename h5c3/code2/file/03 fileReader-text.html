<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>读取普通文本</title>

</head>
<body>
	<h2>读取普通文本</h2>

	<input type="file" name="" id="" value="" />
	
	<img src=""/>
	<script type="text/javascript">
		//找到input标签
		var inputFile = document.querySelector("input");
		
		//添加事件
		inputFile.onchange = function(){
			//当input 发生变化的时候  自身返回一个FileList对象
			//FileList 对象包含了你所选择的文件
			var fileList = this.files;

			var filereader = new FileReader();

			// 以文本格式的方式读取文件
			filereader.readAsText(fileList[0]);

			// 读取文件需要过程
			filereader.onload = function(){
				var res = filereader.result;  //resule结果
				console.log(res);


				// 应用
				// 创建style标签
				var style =document.createElement("style");
				// 将文件内容放入style标签中
				style.innerText = res;

				//将样式添加到head 中
				var head = document.querySelector("head");
				head.appendChild(style);

			}

		}

//		function fun(){
//			//return "abc";
//		}
//
//		var val = fun();
	</script>

</body>
</html>